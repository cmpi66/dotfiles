#!/usr/bin/env bash

has-session() {
  tmux has-session -t initial 2>/dev/null
}

launch_kitty_tmux() {
  # --title sets the window title; --class is optional if you want a distinct WM_CLASS
  kitty --title initial --class initial tmux attach-session -t initial
}

if has-session; then
  launch_kitty_tmux
else
  tmux new-session -s initial -d 'zsh -i'
  launch_kitty_tmux
fi
