#!/usr/bin/env bash

## A script to easily opythondev jobapps with scim and nvim.

has-session() {
  tmux has-session -t pythondev 2>/dev/null
}

launch_foot_tmux() {
  # --title sets the window title; --app-id is optional if you want a distinct WM_CLASS
  footclient --title pythondev --app-id pythondev -e tmux attach-session -t pythondev
}

if has-session; then
  launch_foot_tmux
else

  tmux new-session -s pythondev -n devpod -d 'devpod ssh python-projects-2026;'
  # tmux new-window -t pythondev:2 -n blue 'cd ~/.local/.src/projects/sec/python/python-for-cyber-defense-pluralsight/; nvim .;'
  tmux select-window -t pythondev:1
  launch_foot_tmux
fi
