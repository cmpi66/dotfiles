#!/bin/env bash

# this is a script replaces my old zettlekasten command. It cd's into my zettlekasten and runs emanote just in case I want to read the notes on firefox. 

# export TERM=tmux-256color

has-session ()
{
 tmux has-session -t test 2>/dev/null 
}


if has-session ; then
  # alacritty --class ema,ema --config-file /home/chris/.config/alacritty/tmux.toml -e tmux attach-session -t zettle 
# foot --title=test --config='/home/chris/.config/foot/foot.ini' --term=xterm-256 -e tmux attach-session -t test
foot --title=test --config='/home/chris/.config/foot/foot.ini' -e tmux attach-session -t test

else

tmux new-session -s test -n window1 -d 'cd ~/.local/.src/zettlekasten; killall emanote; emanote run --port=8080; fish -i' 
tmux new-window -t test:2 -n window2 'cd ~/.local/.src/zettlekasten/; lvim index.md; fish -i' 
# tmux new-window  -t zettle:3 -n ema   'cd ~/.local/.src/zettlekasten; killall emanote; emanote run --port=8080; fish -i' 
tmux select-window -t test:2 
# alacritty --class ema,ema --config-file /home/chris/.config/alacritty/tmux.toml -e tmux attach-session -t zettle
foot --title=test --config='/home/chris/.config/foot/foot.ini' tmux attach-session -t test
fi
