#!/bin/bash

# Check if WireGuard VPN is active
is_wireguard_active() {
    rc-service --list | grep -q "wg-quick"
}

# Disconnect from the internet
disconnect_from_internet() {
  doas rc-service net.enp0s31f6 stop  # Replace "net.eth0" with your network interface name
    notify-send "Disconnected from the internet."
}

# Reconnect to the internet
reconnect_to_internet() {
  doas rc-service net.enp0s31f6 start  # Replace "net.eth0" with your network interface name
    notify-send "Reconnected to the internet."
}

if ! is_wireguard_active; then
    disconnect_from_internet
    # Additional actions or notifications can be added here
else
    reconnect_to_internet
fi
